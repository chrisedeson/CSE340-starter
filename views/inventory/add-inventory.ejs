<div class="form-container">
  <h1>Add New Inventory Item</h1>

  <%- messages() %>

  <% if (errors) { %>
    <div class="alert alert-danger">
      <ul>
        <% errors.forEach(error => { %>
          <li><%= error.msg %></li>
        <% }) %>
      </ul>
    </div>
  <% } %>

  <form action="/inv/add" method="POST">
    <div class="form-group">
      <label for="inv_make">Make</label>
      <input type="text" name="inv_make" id="inv_make" value="<%= inv_make || '' %>" required />
    </div>

    <div class="form-group">
      <label for="inv_model">Model</label>
      <input type="text" name="inv_model" id="inv_model" value="<%= inv_model || '' %>" required />
    </div>

    <div class="form-group">
      <label for="inv_year">Year</label>
      <input type="number" name="inv_year" id="inv_year" value="<%= inv_year || '' %>" required />
    </div>

    <div class="form-group">
      <label for="inv_price">Price</label>
      <input type="number" step="0.01" name="inv_price" id="inv_price" value="<%= inv_price || '' %>" required />
    </div>

    <div class="form-group">
      <label for="inv_miles">Mileage</label>
      <input type="number" name="inv_miles" id="inv_miles" value="<%= inv_miles || '' %>" required />
    </div>

    <div class="form-group">
        <label for="inv_color">Color</label>
        <select name="inv_color" id="inv_color" class="form-control" required>
            <option value="">Choose a Color</option>
            <% 
                const colorOptions = [
                    "Black", "White", "Silver", "Gray", "Blue", "Red",
                    "Green", "Yellow", "Orange", "Brown", "Beige", "Gold"
                ];
                colorOptions.forEach(color => { 
            %>
            <option value="<%= color %>" <%= inv_color === color ? "selected" : "" %>><%= color %></option>
            <% }) %>
        </select>
    </div>


    <div class="form-group">
      <label for="inv_description">Description</label>
      <textarea name="inv_description" id="inv_description" required><%= inv_description || '' %></textarea>
    </div>

    <div class="form-group">
      <label for="inv_image">Image URL</label>
      <input type="text" name="inv_image" id="inv_image" value="<%= inv_image || '' %>" required />
    </div>

    <div class="form-group">
      <label for="inv_thumbnail">Thumbnail URL</label>
      <input type="text" name="inv_thumbnail" id="inv_thumbnail" value="<%= inv_thumbnail || '' %>" required />
    </div>

    <div class="form-group">
      <label for="classification_id">Classification</label>
      <select name="classification_id" id="classification_id" required>
        <option value="">Choose a Classification</option>
        <% classifications.forEach(classification => { %>
          <option value="<%= classification.classification_id %>" <%= classification_id == classification.classification_id ? 'selected' : '' %>>
            <%= classification.classification_name %>
          </option>
        <% }) %>
      </select>
    </div>

    <button type="submit">Add Item</button>
  </form>
</div>
